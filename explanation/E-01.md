# E-01:プロンプトインジェクション
## 概要
プロンプトインジェクションは、LLMに対するサイバー攻撃手法の一つであり、攻撃者が悪意のある入力を行い、開発者が意図しない回答を取得するものです。
通常の入力では、取得できない情報を取得することや、様々な問題につながる可能性があります。また、プロンプトインジェクションには下記の２種類があります。

### 直接的なプロンプトインジェクション

これは、ジェイルブレイクとも呼ばれ、攻撃者が、開発者の用意したプロンプトを上書きして実行したり、開発者が用意したプロンプト自体を不正に取得したりします。これにより、攻撃者は、プロンプトを通じて本来行うことができない情報の取得や操作を行うことができる可能性があります。

### 間接的なプロンプトインジェクション
これは、外部コンテンツを読み込む際に発生するもので、攻撃者が用意したWebサイトやファイルを読み込むことにより、意図しない操作を行うことができる可能性があります。

## 攻撃例
ここでは、いくつかの例を挙げます。
* 攻撃者がLLMに対して開発者が用意したプロンプトを無視して開発者の意図しない情報を返すプロンプトを実行し、不正に情報を取得します。
* 利用者がWebサイトの要約を行うLLMを用いたシステムを使った際に、攻撃者が用意した間接的なプロンプトインジェクションを含むWebサイトを要約を行ったとします。その結果、要約の内容が開発者の想定していない内容を出力します。

## 対策
プロンプトインジェクションに対する対策は下記の対策があります。
* 入力時の対策
  * プロンプトに対するフィルタリング
* 内部対策
  * モデルの動作を制限する
  * 権限制御と最小限のアクセス付与
  * バックエンドのシステムに対する権限の制御
  * ヒューマン・イン・ループ(特権操作に対する人間の承認)
* 出力時の対策
  * 出力形式の定義と検証
* その他
  * AIに対する攻撃シミュレーションと評価

## 参考資料
* OWASP Top 10 for LLM Applications v1.1 - OWASP
  * https://owasp.org/www-project-top-10-for-large-language-model-applications/assets/PDF/OWASP-Top-10-for-LLMs-2023-v1_1.pdf
* 一般的なプロンプトインジェクション攻撃 - Amazon Web Services, Inc.
  * https://docs.aws.amazon.com/ja_jp/prescriptive-guidance/latest/llm-prompt-engineering-best-practices/common-attacks.html
